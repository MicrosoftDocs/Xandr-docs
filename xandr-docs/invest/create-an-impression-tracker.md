---
title: Microsoft Invest - Create an Impression Tracker
description: In this page, learn to create an impression tracker, associate it with a line item, publisher, placement, payment rule and export it for use with creatives served by an external ad server.
ms.date: 10/28/2023
---

# Microsoft Invest - Create an impression tracker

Impression trackers are used to track user impressions on creatives served by off-platform (non-Microsoft Advertising) ad servers.

This document describes how to create an impression tracker and export it for use with creatives served by an external ad server. Most ad servers allow you to attach a "piggyback pixel" to a creative when you upload it. The impression tracker is meant to be uploaded as a piggyback pixel so that when that creative loads, the impression tracker will load as well and let Microsoft Advertising know that an impression took place.

## Step 1. Create an impression tracker

1. Navigate to the **Impression Trackers** screen (**Creative \> Impression Trackers**) and select an appropriate advertiser if prompted.
2. On the **Impression Trackers** screen, select **+ New** to open the **Create New Impression Tracker** dialog.
3. In the **Imp Tracker Details** section, enter the name of the impression tracker. You can select **Advanced Options** if you'd like to assign your own custom code to this impression tracker.

## Step 2. Associate with a line item (required)

Impression trackers are associated with line items. Under the **Line Item Association** section, select **Edit** to choose the line item you'd like to associate this impression tracker with. You can also search for a line item.

> [!NOTE]
> Once a line item is associated with an impression tracker, you can report on the impressions coming through that tracker. You can separate impression and click trackers bygrouping by **Impression Type** in [Member Reporting](network-reporting.md).

## Step 3. Associate with a publisher (required)

Under **Publisher Settings**, select **Edit** and choose the publisher you'd like to associate this impression tracker with.

## Step 4. Associate with a placement (optional)

You can associate your impression tracker with a placement. This allows you to report on the impressions coming through a placement.

## Step 5. Associate with a payment rule (optional)

Because you are required to associate your impression tracker with a publisher, you can optionally associate it with a payment rule as well.

## Step 6. Export the impression tracker

Finally, export the impression tracker by selecting the checkbox to its left, and selecting **More Actions \>  Export tags** from the menu to the right of the **Create Imp Tracker** button.

The **Export Trackers** dialog will appear. Under **Basic Options**, you can choose to export a JavaScript tag or a secure pixel.

Under **Delivery Options**, you can choose to generate the tags now, or have them sent to you in an email.

The **Advanced Options** section presents several different macros that you can use to populate your impression tracker. For more information about these macros, see [Creative Macros](creative-macros.md).

## Step 7. Add macro parameters (optional)

The exported impression tracker will look something like the following (this tracker includes placeholders for the macros `CACHEBUSTER`, `ANCOST` and `REDIRECT_URL` from the **Advanced Options** section of the export dialog shown above).

```
<!-- Imp Tracker DO NOT MODIFY --> <img src="media/imptr?id=2766&cachebuster=[CACHEBUSTER]&ancost=[ANCOST]&t=2&redir=[REDIRECT_URL]" width="1" height="1" /> <!-- End of Imp Tracker --> 
```

The table below lists the parameters you can add to the impression tracker and their definitions.

| Parameter | Description |
|:-|:-|
|  |  |
| `cachebuster` | Cachebusters ensure that the user's browser does not cache the URL. It should be dynamically generated by the ad server from which the impression originates. |
| `ancost` | Passes Microsoft Advertising the media cost. This should be populated with what you paid for the impression in the original system.<br>**Note**: This will override any payment rules. |
| `redir` | The URL you'd like the creative to redirect to. This will supersede any redirect value entered into Invest DSP.<br>**Note**: This parameter must be placed at the end of the query string. If it's anywhere else in the query string, the redirect will not be successful. |

## Related topics

- [Working with Impression and Click Trackers](working-with-impression-and-click-trackers.md)
- [Create a Click Tracker](create-a-click-tracker.md)
- [Creative Macros](creative-macros.md)
